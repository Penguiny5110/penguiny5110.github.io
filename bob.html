<html>
    <head>
       <title>Program Name</title>

    
     <style>
        canvas {
            border: 1px solid black;
            display: inline-block;
            vertical-align:
             top; }
            
         pre { 
            border: 1px solid black;
            display: inline-block;
            width: 400px;
            height: 500px;
            background-color: #F5F5F5;
            margin: auto;
        }
     </style>
   </head>

    <body>
       <canvas
       width="400"
       height="500"
       class="codehs-editor-canvas"></canvas>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script type="text/javascript" src="https://static.codehs.com/gulp/71e31662a311579278c7b569c2b4060584c2b76e/chs-js-lib/chs.js"></script>

       <pre id="console"></pre>

        <script>
        window.onload = function() {

            //variables
{
var background = new Rectangle(getWidth(), getHeight());
background.setPosition(0,0);
background.setColor("#0BCDFF");
add(background);
background.layer = -100;

//main
{
//cards
{
var cardWidth = 60;
var cardHeight = 75;
var cardGap = 35;
var edgeGapX = 70;
var edgeGapY = 30;
var selectedCard = 0;

var textGap = 5;
var cardDamageColor = "#646799";
var cardHPColor = "#4aba66";

//player cards
{
//main
{
var cardColor = "#25A5D8"

var card1 = new Rectangle(cardWidth,cardHeight);
card1.setPosition(edgeGapX,getHeight() - card1.getHeight() - edgeGapY);
card1.setColor(cardColor);
add(card1);

var card2 = new Rectangle(cardWidth,cardHeight);
card2.setPosition(card1.getX() + cardWidth + cardGap,card1.getY());
card2.setColor(cardColor);
add(card2); 

var card3 = new Rectangle(cardWidth,cardHeight);
card3.setPosition(card2.getX() + cardWidth + cardGap,card1.getY());
card3.setColor(cardColor);
add(card3);
}

//txt
{
//card 1 txt
{
var card1Damage = Randomizer.nextInt(1, 2);
var card1HP = Randomizer.nextInt(1, 2);
// var card1HP = 10;
var card1Mod = [];
var card1Color = "#777777";

var card1DamageTxt = new Text(card1Damage,"30pt Arial");
card1DamageTxt.setPosition(card1.getX() + textGap, card1.getY() + card1.getHeight() - textGap - 5);
card1DamageTxt.setColor(cardDamageColor);
add(card1DamageTxt);

var card1HPTxt = new Text(card1HP,"30pt Arial");
card1HPTxt.setPosition(card1.getX() + card1.getWidth() - textGap - card1HPTxt.getWidth(), card1.getY() + card1.getHeight() - textGap - 5);
card1HPTxt.setColor(cardHPColor);
add(card1HPTxt);
}

//card 2 txt
{
var card2Damage = Randomizer.nextInt(2, 3);
var card2HP = Randomizer.nextInt(2, 3);
// var card2HP = 10;
var card2Mod = [];
var card2Color = "#888888";

var card2DamageTxt = new Text(card2Damage,"30pt Arial");
card2DamageTxt.setPosition(card2.getX() + textGap, card1.getY() + card1.getHeight() - textGap - 5);
card2DamageTxt.setColor(cardDamageColor);
add(card2DamageTxt);

var card2HPTxt = new Text(card2HP,"30pt Arial");
card2HPTxt.setPosition(card2.getX() + card2.getWidth() - textGap - card2HPTxt.getWidth(), card2.getY() + card2.getHeight() - textGap - 5);
card2HPTxt.setColor(cardHPColor);
add(card2HPTxt);
}

//card 3 txt
{
var card3Damage = Randomizer.nextInt(3, 5);
var card3HP = Randomizer.nextInt(1, 1);
var card3Mod = [];
var card3Color = "#111111";

var card3DamageTxt = new Text(card3Damage,"30pt Arial");
card3DamageTxt.setPosition(card3.getX() + textGap, card3.getY() + card3.getHeight() - textGap - 5);
card3DamageTxt.setColor(cardDamageColor);
add(card3DamageTxt);

var card3HPTxt = new Text(card3HP,"30pt Arial");
card3HPTxt.setPosition(card3.getX() + card3.getWidth() - textGap - card3HPTxt.getWidth(), card3.getY() + card3.getHeight() - textGap - 5);
card3HPTxt.setColor(cardHPColor);
add(card3HPTxt);
}

while(card1Damage + card2Damage + card3Damage >= 10){
    card1Damage = Randomizer.nextInt(1, 2);
    card2Damage = Randomizer.nextInt(2, 3);
    card3Damage = Randomizer.nextInt(3, 5);
}
}
}

var cardList = [card1,card2,card3];
var playerDamageList = [card1Damage,card2Damage,card3Damage];
var playerHPList = [card1HP,card2HP,card3HP];
var playerDamageTxtList = [card1DamageTxt,card2DamageTxt,card3DamageTxt];
var playerHPTxtList = [card1HPTxt,card2HPTxt,card3HPTxt];

//enemy cards
{
//main
{
var enemyCardColor = "#c75a5a"

var enemyCard1 = new Rectangle(cardWidth,cardHeight);
enemyCard1.setPosition(edgeGapX,edgeGapY);
enemyCard1.setColor(enemyCardColor);
add(enemyCard1);

var enemyCard2 = new Rectangle(cardWidth,cardHeight);
enemyCard2.setPosition(enemyCard1.getX() + cardWidth + cardGap,enemyCard1.getY());
enemyCard2.setColor(enemyCardColor);
add(enemyCard2);

var enemyCard3 = new Rectangle(cardWidth,cardHeight);
enemyCard3.setPosition(enemyCard2.getX() + cardWidth + cardGap,enemyCard1.getY());
enemyCard3.setColor(enemyCardColor);
add(enemyCard3);
}

var enemyLowRange = 1;
var enemyHighRange = 3;

//txt
{
//enemy card 1 txt
{
var enemyCard1Damage = Randomizer.nextInt(enemyLowRange, enemyHighRange);
var enemyCard1HP = Randomizer.nextInt(enemyLowRange, enemyHighRange);
var enemyCard1Mod = [];
var enemyCard1Color = "#777777";

var enemyCard1DamageTxt = new Text(enemyCard1Damage,"30pt Arial");
enemyCard1DamageTxt.setPosition(enemyCard1.getX() + textGap, enemyCard1.getY() + enemyCard1.getHeight() - textGap - 5);
enemyCard1DamageTxt.setColor(cardDamageColor);
add(enemyCard1DamageTxt);

var enemyCard1HPTxt = new Text(enemyCard1HP,"30pt Arial");
enemyCard1HPTxt.setPosition(enemyCard1.getX() + enemyCard1.getWidth() - textGap - enemyCard1HPTxt.getWidth(), enemyCard1.getY() + enemyCard1.getHeight() - textGap - 5);
enemyCard1HPTxt.setColor(cardHPColor);
add(enemyCard1HPTxt);
}

//enemy card 2 txt
{
var enemyCard2Damage = Randomizer.nextInt(enemyLowRange, enemyHighRange);
var enemyCard2HP = Randomizer.nextInt(enemyLowRange, enemyHighRange);
var enemyCard2Mod = [];
var enemyCard2Color = "#888888";

var enemyCard2DamageTxt = new Text(enemyCard2Damage,"30pt Arial");
enemyCard2DamageTxt.setPosition(enemyCard2.getX() + textGap, enemyCard2.getY() + enemyCard2.getHeight() - textGap - 5);
enemyCard2DamageTxt.setColor(cardDamageColor);
add(enemyCard2DamageTxt);

var enemyCard2HPTxt = new Text(enemyCard2HP,"30pt Arial");
enemyCard2HPTxt.setPosition(enemyCard2.getX() + enemyCard2.getWidth() - textGap - enemyCard2HPTxt.getWidth(), enemyCard2.getY() + enemyCard2.getHeight() - textGap - 5);
enemyCard2HPTxt.setColor(cardHPColor);
add(enemyCard2HPTxt);
}

//enemy card 3 txt
{
var enemyCard3Damage = Randomizer.nextInt(enemyLowRange, enemyHighRange);
var enemyCard3HP = Randomizer.nextInt(enemyLowRange, enemyHighRange);
var enemyCard3Mod = [];
var enemyCard3Color = "#111111";

var enemyCard3DamageTxt = new Text(enemyCard3Damage,"30pt Arial");
enemyCard3DamageTxt.setPosition(enemyCard3.getX() + textGap, enemyCard3.getY() + enemyCard3.getHeight() - textGap - 5);
enemyCard3DamageTxt.setColor(cardDamageColor);
add(enemyCard3DamageTxt);

var enemyCard3HPTxt = new Text(enemyCard3Damage,"30pt Arial");
enemyCard3HPTxt.setPosition(enemyCard3.getX() + enemyCard3.getWidth() - textGap - enemyCard3HPTxt.getWidth(), enemyCard3.getY() + enemyCard3.getHeight() - textGap - 5);
enemyCard3HPTxt.setColor(cardHPColor);
add(enemyCard3HPTxt);
}
}
}

var enemyCardList = [enemyCard1,enemyCard2,enemyCard3];
var enemyDamageList = [enemyCard1Damage,enemyCard2Damage,enemyCard3Damage];
var enemyHPList = [enemyCard1HP,enemyCard2HP,enemyCard3HP];
var enemyDamageTxtList = [enemyCard1DamageTxt,enemyCard2DamageTxt,enemyCard3DamageTxt];
var enemyHPTxtList = [enemyCard1HPTxt,enemyCard2HPTxt,enemyCard3HPTxt];
}

var endTurnButton = new Rectangle(40,40);
endTurnButton.setPosition(10,getHeight() / 2 - endTurnButton.getHeight() / 2);
endTurnButton.setColor("#DD5352");
add(endTurnButton);

//places
{
//vars
{
var placeGaps = 5;

var place1X = card1.getX();
var place2X = card2.getX();
var place3X = card3.getX();

var playerY = endTurnButton.getY() + endTurnButton.getHeight() + placeGaps;
var enemyY = endTurnButton.getY() - placeGaps - cardHeight;

var startingPlayerY = card1.getY();
}

//sprites
{
//player
{
var playerPlaceColor = "#9865E3"

var place1P = new Rectangle(cardWidth,cardHeight);
place1P.setPosition(place1X,playerY);
place1P.setColor(playerPlaceColor);
add(place1P);
place1P.layer = 0;

var place2P = new Rectangle(cardWidth,cardHeight);
place2P.setPosition(place2X,playerY);
place2P.setColor(playerPlaceColor);
add(place2P);
place2P.layer = 0;

var place3P = new Rectangle(cardWidth,cardHeight);
place3P.setPosition(place3X,playerY);
place3P.setColor(playerPlaceColor);
add(place3P);
place3P.layer = 0;

var placeListP = [place1P,place2P,place3P];
}

//enemy
{
var enemyPlaceColor = "#9865E3";

var enemyPlace1P = new Rectangle(cardWidth,cardHeight);
enemyPlace1P.setPosition(place1X,enemyY);
enemyPlace1P.setColor(enemyPlaceColor);
add(enemyPlace1P);
enemyPlace1P.layer = 0;

var enemyPlace2P = new Rectangle(cardWidth,cardHeight);
enemyPlace2P.setPosition(place2X,enemyY);
enemyPlace2P.setColor(enemyPlaceColor);
add(enemyPlace2P);
enemyPlace2P.layer = 0;

var enemyPlace3P = new Rectangle(cardWidth,cardHeight);
enemyPlace3P.setPosition(place3X,enemyY);
enemyPlace3P.setColor(enemyPlaceColor);
add(enemyPlace3P);
enemyPlace3P.layer = 0;

var enemyPlaceListP = [enemyPlace1P,enemyPlace2P,enemyPlace3P];
}
}
}

//backboards
{
var backGap = 15;

var playerBackboard = new Rectangle((card3.getX() + cardWidth + backGap) - (card1.getX() - backGap),(card1.getY() + cardHeight + backGap) - (card1.getY() - backGap));
playerBackboard.setPosition(card1.getX() - backGap,card1.getY() - backGap)
playerBackboard.setColor("#4E73B8");
add(playerBackboard);
playerBackboard.layer = -1;
// playerBackboard.debug = true;

var enemyBackboard = new Rectangle((enemyCard3.getX() + cardWidth + backGap) - (enemyCard1.getX() - backGap),(enemyCard1.getY() + cardHeight + backGap) - (enemyCard1.getY() - backGap));
enemyBackboard.setPosition(enemyCard1.getX() - backGap,enemyCard1.getY() - backGap)
enemyBackboard.setColor("#b22e39");
add(enemyBackboard);
enemyBackboard.layer = -1;
// enemyBackboard.debug = true;

var placeBackboardGap = 10;

var placeBackboard = new Rectangle((enemyCard3.getX() + cardWidth + placeBackboardGap) - (enemyCard1.getX() - placeBackboardGap), (playerY + cardHeight + placeBackboardGap) - (enemyY - placeBackboardGap));
placeBackboard.setPosition(enemyCard1.getX() - placeBackboardGap, enemyY - placeBackboardGap);
placeBackboard.setColor("#8754D2");
add(placeBackboard);
placeBackboard.layer = -1;
}

//health
{
var playerLives = 3;
var gameStatus = 0;

var gameStatusTxt = new Text(gameStatus,"30pt Arial");
gameStatusTxt.setPosition(endTurnButton.getX() + (endTurnButton.getWidth() / 2) -  (gameStatusTxt.getWidth() / 2),endTurnButton.getY() + (endTurnButton.getHeight() / 2) + (gameStatusTxt.getHeight() / 2) - 5);
gameStatusTxt.setColor("#000000");
add(gameStatusTxt);
// gameStatusTxt.debug = true;
}

var transitionCounter = 0;

//other buttons
{
var restartButton = new Rectangle(endTurnButton.getWidth(),endTurnButton.getHeight());
restartButton.setPosition(getWidth() - restartButton.getWidth() - 10,(getHeight() / 2) - (endTurnButton.getHeight() / 2));
restartButton.setColor("#268209");
add(restartButton);

var restartButtonTxt = new Text("Restart", "8pt Arial");
restartButtonTxt.setPosition(restartButton.getX() + (restartButton.getWidth() / 2) -  (restartButtonTxt.getWidth() / 2),restartButton.getY() + (restartButton.getHeight() / 2) + (restartButtonTxt.getHeight() / 2) - 2.5);
restartButtonTxt.setColor("#000000");
add(restartButtonTxt);
}

//player score and lives
{
var playerScore = 0;

var playerScoreTxt = new Text(playerScore,"30pt Arial");
playerScoreTxt.setPosition(restartButton.getX() + (restartButton.getWidth() / 2) -  (playerScoreTxt.getWidth() / 2),endTurnButton.getY() + (endTurnButton.getHeight() / 2) + (gameStatusTxt.getHeight() / 2) - 10 - playerScoreTxt.getHeight());
playerScoreTxt.setColor("#000000");
add(playerScoreTxt);

var livesTxt = new Text(playerLives,"30pt Arial");
livesTxt.setPosition(restartButton.getX() + (restartButton.getWidth() / 2) -  (livesTxt.getWidth() / 2),endTurnButton.getY() + (endTurnButton.getHeight() / 2) + (livesTxt.getHeight() / 2) - 0 + livesTxt.getHeight());
livesTxt.setColor("#000000");
add(livesTxt);

var difficulty = 0;
}
}

//upgrade
{
var backgroundU = new Rectangle(getWidth(), getHeight());
backgroundU.setPosition(0,0);
backgroundU.setColor("#ede15a");
// add(backgroundU);
backgroundU.layer = 100;

var mode = "play";

var buttonSize = 50;

var specialUpgrade = "#6d71bf"
var healthUpgrade = "#21b829";
var damageUpgrade = "#832ae8";

//buttons
{
var upgradeButton1 = new Rectangle(buttonSize,buttonSize);
upgradeButton1.setPosition(50,(getHeight() / 2) - (upgradeButton1.getHeight() / 2));
upgradeButton1.setColor(specialUpgrade);
// add(upgradeButton1);
upgradeButton1.layer = 101;

var upgradeButton2 = new Rectangle(buttonSize,buttonSize);
upgradeButton2.setPosition((getWidth() / 2) - (upgradeButton2.getWidth() / 2),(getHeight() / 2) - (upgradeButton2.getHeight() / 2));
upgradeButton2.setColor(specialUpgrade);
// add(upgradeButton2);
upgradeButton2.layer = 101;

var upgradeButton3 = new Rectangle(buttonSize,buttonSize);
upgradeButton3.setPosition(getWidth() - buttonSize - 50,(getHeight() / 2) - (upgradeButton3.getHeight() / 2));
upgradeButton3.setColor(specialUpgrade);
// add(upgradeButton3);
upgradeButton3.layer = 101;
}

//txt
{
var lowUVal = 1;
var highUVal = 2;
var upgradeButton1Val = Randomizer.nextInt(lowUVal,highUVal);
var upgradeButton2Val = Randomizer.nextInt(lowUVal,highUVal);
var upgradeButton3Val = Randomizer.nextInt(lowUVal,highUVal);

var upgradeButton1Txt = new Text(upgradeButton1Val,"30pt Arial");
upgradeButton1Txt.setPosition(upgradeButton1.getX() + (upgradeButton1.getWidth() / 2) -  (upgradeButton1Txt.getWidth() / 2),upgradeButton1.getY() + (upgradeButton1.getHeight() / 2) + (upgradeButton1Txt.getHeight() / 2) - 5);
upgradeButton1Txt.setColor("")
// add(upgradeButton1Txt);
upgradeButton1Txt.layer = 101;

var upgradeButton2Txt = new Text(upgradeButton2Val,"30pt Arial");
upgradeButton2Txt.setPosition(upgradeButton2.getX() + (upgradeButton2.getWidth() / 2) -  (upgradeButton2Txt.getWidth() / 2),upgradeButton2.getY() + (upgradeButton2.getHeight() / 2) + (upgradeButton2Txt.getHeight() / 2) - 5);
upgradeButton2Txt.setColor("")
// add(upgradeButton2Txt);
upgradeButton2Txt.layer = 101;

var upgradeButton3Txt = new Text(upgradeButton3Val,"30pt Arial");
upgradeButton3Txt.setPosition(upgradeButton3.getX() + (upgradeButton3.getWidth() / 2) -  (upgradeButton3Txt.getWidth() / 2),upgradeButton3.getY() + (upgradeButton3.getHeight() / 2) + (upgradeButton3Txt.getHeight() / 2) - 5);
upgradeButton3Txt.setColor("")
// add(upgradeButton3Txt);
upgradeButton3Txt.layer = 101;
}
}
}

function start(){
    startInteraction();
    mouseClickMethod(click);
    mouseMoveMethod(mouseMove);
    keyDownMethod(keyDown);
    setTimer(setTextSize,100);
}

function click(e){
    // background.setColor("#0BCDFF");
    var elem = getElementAt(e.getX(), e.getY());
    
    if(selectedCard == 1){
        if(elem == place1P && !isPlaceOccupied(1)){
            move(1,place1X,playerY);
        }else if(elem == place2P && !isPlaceOccupied(2)){
            move(1,place2X,playerY);
        }else if(elem == place3P && !isPlaceOccupied(3)){
            move(1,place3X,playerY);
        }
    }else if(selectedCard == 2){
        if(elem == place1P && !isPlaceOccupied(1)){
            move(2,place1X,playerY);
        }else if(elem == place2P && !isPlaceOccupied(2)){
            move(2,place2X,playerY);
        }else if(elem == place3P && !isPlaceOccupied(3)){
            move(2,place3X,playerY);
        }
    }else if(selectedCard == 3){
        if(elem == place1P && !isPlaceOccupied(1)){
            move(3,place1X,playerY);
        }else if(elem == place2P && !isPlaceOccupied(2)){
            move(3,place2X,playerY);
        }else if(elem == place3P && !isPlaceOccupied(3)){
            move(3,place3X,playerY);
        }
    }
    
    if(cardSelect(1,elem) && card1.getY() != playerY){
        selectedCard = 1;
    }else if(cardSelect(2,elem) && card2.getY() != playerY){
        selectedCard = 2;
    }else if(cardSelect(3,elem) && card3.getY() != playerY){
        selectedCard = 3;
    }else if(elem != upgradeButton1 && elem != upgradeButton1Txt && elem != upgradeButton2 && elem != upgradeButton2Txt && elem != upgradeButton3 && elem != upgradeButton3Txt){
        selectedCard = 0;
    }
    
    if(elem == endTurnButton || elem == gameStatusTxt){
        endTurn();
    }
    
    if(elem == restartButton || elem == restartButtonTxt){
        lose();
    }
    
    if(mode == "upgrade"){
        if(selectedCard == 1){
            if(elem == upgradeButton1 || elem == upgradeButton1Txt){
                if(upgradeButton1.getColor() == healthUpgrade){
                    card1HP = card1HP + upgradeButton1Val;
                    card1HPTxt.setText(card1HP);
                    card1HPTxt.setPosition(card1.getX() + card1.getWidth() - textGap - card1HPTxt.getWidth(), card1.getY() + card1.getHeight() - textGap - 5);
                }else{
                    card1Damage = card1Damage + upgradeButton1Val;
                    card1DamageTxt.setText(card1Damage);
                    card1DamageTxt.setPosition(card1.getX() + textGap, card1.getY() + card1.getHeight() - textGap - 5);
                }
                stopUpgrade();
                cardList = [card1,card2,card3];
                playerDamageList = [card1Damage,card2Damage,card3Damage];
                playerHPList = [card1HP,card2HP,card3HP];
                playerDamageTxtList = [card1DamageTxt,card2DamageTxt,card3DamageTxt];
                playerHPTxtList = [card1HPTxt,card2HPTxt,card3HPTxt];
                enemyCardList = [enemyCard1,enemyCard2,enemyCard3];
                enemyDamageList = [enemyCard1Damage,enemyCard2Damage,enemyCard3Damage];
                enemyHPList = [enemyCard1HP,enemyCard2HP,enemyCard3HP];
                enemyDamageTxtList = [enemyCard1DamageTxt,enemyCard2DamageTxt,enemyCard3DamageTxt];
                enemyHPTxtList = [enemyCard1HPTxt,enemyCard2HPTxt,enemyCard3HPTxt];
            }else if(elem == upgradeButton2 || elem == upgradeButton2Txt){
                if(upgradeButton2.getColor() == healthUpgrade){
                    card1HP = card1HP + upgradeButton2Val;
                    card1HPTxt.setText(card1HP);
                    card1HPTxt.setPosition(card1.getX() + card1.getWidth() - textGap - card1HPTxt.getWidth(), card1.getY() + card1.getHeight() - textGap - 5);
                    
                }else{
                    card1Damage = card1Damage + upgradeButton2Val;
                    card1DamageTxt.setText(card1Damage);
                    card1DamageTxt.setPosition(card1.getX() + textGap, card1.getY() + card1.getHeight() - textGap - 5);
                }
                stopUpgrade();
                cardList = [card1,card2,card3];
                playerDamageList = [card1Damage,card2Damage,card3Damage];
                playerHPList = [card1HP,card2HP,card3HP];
                playerDamageTxtList = [card1DamageTxt,card2DamageTxt,card3DamageTxt];
                playerHPTxtList = [card1HPTxt,card2HPTxt,card3HPTxt];
                enemyCardList = [enemyCard1,enemyCard2,enemyCard3];
                enemyDamageList = [enemyCard1Damage,enemyCard2Damage,enemyCard3Damage];
                enemyHPList = [enemyCard1HP,enemyCard2HP,enemyCard3HP];
                enemyDamageTxtList = [enemyCard1DamageTxt,enemyCard2DamageTxt,enemyCard3DamageTxt];
                enemyHPTxtList = [enemyCard1HPTxt,enemyCard2HPTxt,enemyCard3HPTxt];
            }else if(elem == upgradeButton3 || elem == upgradeButton3Txt){
                if(upgradeButton3.getColor() == healthUpgrade){
                    card1HP = card1HP + upgradeButton3Val;
                    card1HPTxt.setText(card1HP);
                    card1HPTxt.setPosition(card1.getX() + card1.getWidth() - textGap - card1HPTxt.getWidth(), card1.getY() + card1.getHeight() - textGap - 5);
                    
                }else{
                    card1Damage = card1Damage + upgradeButton3Val;
                    card1DamageTxt.setText(card1Damage);
                    card1DamageTxt.setPosition(card1.getX() + textGap, card1.getY() + card1.getHeight() - textGap - 5);
                }
                stopUpgrade();
                cardList = [card1,card2,card3];
                playerDamageList = [card1Damage,card2Damage,card3Damage];
                playerHPList = [card1HP,card2HP,card3HP];
                playerDamageTxtList = [card1DamageTxt,card2DamageTxt,card3DamageTxt];
                playerHPTxtList = [card1HPTxt,card2HPTxt,card3HPTxt];
                enemyCardList = [enemyCard1,enemyCard2,enemyCard3];
                enemyDamageList = [enemyCard1Damage,enemyCard2Damage,enemyCard3Damage];
                enemyHPList = [enemyCard1HP,enemyCard2HP,enemyCard3HP];
                enemyDamageTxtList = [enemyCard1DamageTxt,enemyCard2DamageTxt,enemyCard3DamageTxt];
                enemyHPTxtList = [enemyCard1HPTxt,enemyCard2HPTxt,enemyCard3HPTxt];
            }
        }else if(selectedCard == 2){
            if(elem == upgradeButton1 || elem == upgradeButton1Txt){
                if(upgradeButton1.getColor() == healthUpgrade){
                    card2HP = card2HP + upgradeButton1Val;
                    card2HPTxt.setText(card2HP);
                    card2HPTxt.setPosition(card2.getX() + card2.getWidth() - textGap - card2HPTxt.getWidth(), card2.getY() + card2.getHeight() - textGap - 5);
                    
                }else{
                    card2Damage = card2Damage + upgradeButton1Val;
                    card2DamageTxt.setText(card2Damage);
                    card2DamageTxt.setPosition(card2.getX() + textGap, card1.getY() + card1.getHeight() - textGap - 5);
                }
                stopUpgrade();
                cardList = [card1,card2,card3];
                playerDamageList = [card1Damage,card2Damage,card3Damage];
                playerHPList = [card1HP,card2HP,card3HP];
                playerDamageTxtList = [card1DamageTxt,card2DamageTxt,card3DamageTxt];
                playerHPTxtList = [card1HPTxt,card2HPTxt,card3HPTxt];
                enemyCardList = [enemyCard1,enemyCard2,enemyCard3];
                enemyDamageList = [enemyCard1Damage,enemyCard2Damage,enemyCard3Damage];
                enemyHPList = [enemyCard1HP,enemyCard2HP,enemyCard3HP];
                enemyDamageTxtList = [enemyCard1DamageTxt,enemyCard2DamageTxt,enemyCard3DamageTxt];
                enemyHPTxtList = [enemyCard1HPTxt,enemyCard2HPTxt,enemyCard3HPTxt];
            }else if(elem == upgradeButton2 || elem == upgradeButton2Txt){
                if(upgradeButton2.getColor() == healthUpgrade){
                    card2HP = card2HP + upgradeButton2Val;
                    card2HPTxt.setText(card2HP);
                    card2HPTxt.setPosition(card2.getX() + card2.getWidth() - textGap - card2HPTxt.getWidth(), card2.getY() + card2.getHeight() - textGap - 5);
                    
                }else{
                    card2Damage = card2Damage + upgradeButton2Val;
                    card2DamageTxt.setText(card2Damage);
                    card2DamageTxt.setPosition(card2.getX() + textGap, card1.getY() + card1.getHeight() - textGap - 5);
                }
                stopUpgrade();
                cardList = [card1,card2,card3];
                playerDamageList = [card1Damage,card2Damage,card3Damage];
                playerHPList = [card1HP,card2HP,card3HP];
                playerDamageTxtList = [card1DamageTxt,card2DamageTxt,card3DamageTxt];
                playerHPTxtList = [card1HPTxt,card2HPTxt,card3HPTxt];
                enemyCardList = [enemyCard1,enemyCard2,enemyCard3];
                enemyDamageList = [enemyCard1Damage,enemyCard2Damage,enemyCard3Damage];
                enemyHPList = [enemyCard1HP,enemyCard2HP,enemyCard3HP];
                enemyDamageTxtList = [enemyCard1DamageTxt,enemyCard2DamageTxt,enemyCard3DamageTxt];
                enemyHPTxtList = [enemyCard1HPTxt,enemyCard2HPTxt,enemyCard3HPTxt];
            }else if(elem == upgradeButton3 || elem == upgradeButton3Txt){
                if(upgradeButton3.getColor() == healthUpgrade){
                    card2HP = card2HP + upgradeButton3Val;
                    card2HPTxt.setText(card2HP);
                    card2HPTxt.setPosition(card2.getX() + card2.getWidth() - textGap - card2HPTxt.getWidth(), card2.getY() + card2.getHeight() - textGap - 5);
                }else{
                    card2Damage = card2Damage + upgradeButton3Val;
                    card2DamageTxt.setText(card2Damage);
                    card2DamageTxt.setPosition(card2.getX() + textGap, card1.getY() + card1.getHeight() - textGap - 5);
                }
                stopUpgrade();
                cardList = [card1,card2,card3];
                playerDamageList = [card1Damage,card2Damage,card3Damage];
                playerHPList = [card1HP,card2HP,card3HP];
                playerDamageTxtList = [card1DamageTxt,card2DamageTxt,card3DamageTxt];
                playerHPTxtList = [card1HPTxt,card2HPTxt,card3HPTxt];
                enemyCardList = [enemyCard1,enemyCard2,enemyCard3];
                enemyDamageList = [enemyCard1Damage,enemyCard2Damage,enemyCard3Damage];
                enemyHPList = [enemyCard1HP,enemyCard2HP,enemyCard3HP];
                enemyDamageTxtList = [enemyCard1DamageTxt,enemyCard2DamageTxt,enemyCard3DamageTxt];
                enemyHPTxtList = [enemyCard1HPTxt,enemyCard2HPTxt,enemyCard3HPTxt];
            }
        }else if(selectedCard == 3){
            if(elem == upgradeButton1 || elem == upgradeButton1Txt){
                if(upgradeButton1.getColor() == healthUpgrade){
                    card3HP = card3HP + upgradeButton1Val;
                    card3HPTxt.setText(card3HP);
                    card3HPTxt.setPosition(card3.getX() + card3.getWidth() - textGap - card3HPTxt.getWidth(), card3.getY() + card3.getHeight() - textGap - 5);
                    
                }else{
                    card3Damage = card3Damage + upgradeButton1Val;
                    card3DamageTxt.setText(card3Damage);
                    card3DamageTxt.setPosition(card3.getX() + textGap, card3.getY() + card3.getHeight() - textGap - 5);
                }
                stopUpgrade();
                cardList = [card1,card2,card3];
                playerDamageList = [card1Damage,card2Damage,card3Damage];
                playerHPList = [card1HP,card2HP,card3HP];
                playerDamageTxtList = [card1DamageTxt,card2DamageTxt,card3DamageTxt];
                playerHPTxtList = [card1HPTxt,card2HPTxt,card3HPTxt];
                enemyCardList = [enemyCard1,enemyCard2,enemyCard3];
                enemyDamageList = [enemyCard1Damage,enemyCard2Damage,enemyCard3Damage];
                enemyHPList = [enemyCard1HP,enemyCard2HP,enemyCard3HP];
                enemyDamageTxtList = [enemyCard1DamageTxt,enemyCard2DamageTxt,enemyCard3DamageTxt];
                enemyHPTxtList = [enemyCard1HPTxt,enemyCard2HPTxt,enemyCard3HPTxt];
            }else if(elem == upgradeButton2 || elem == upgradeButton2Txt){
                if(upgradeButton2.getColor() == healthUpgrade){
                    card3HP = card3HP + upgradeButton2Val;
                    card3HPTxt.setText(card3HP);
                    card3HPTxt.setPosition(card3.getX() + card3.getWidth() - textGap - card3HPTxt.getWidth(), card3.getY() + card3.getHeight() - textGap - 5);
                    
                }else{
                    card3Damage = card3Damage + upgradeButton2Val;
                    card3DamageTxt.setText(card3Damage);
                    card3DamageTxt.setPosition(card3.getX() + textGap, card3.getY() + card3.getHeight() - textGap - 5);
                }
                stopUpgrade();
                cardList = [card1,card2,card3];
                playerDamageList = [card1Damage,card2Damage,card3Damage];
                playerHPList = [card1HP,card2HP,card3HP];
                playerDamageTxtList = [card1DamageTxt,card2DamageTxt,card3DamageTxt];
                playerHPTxtList = [card1HPTxt,card2HPTxt,card3HPTxt];
                enemyCardList = [enemyCard1,enemyCard2,enemyCard3];
                enemyDamageList = [enemyCard1Damage,enemyCard2Damage,enemyCard3Damage];
                enemyHPList = [enemyCard1HP,enemyCard2HP,enemyCard3HP];
                enemyDamageTxtList = [enemyCard1DamageTxt,enemyCard2DamageTxt,enemyCard3DamageTxt];
                enemyHPTxtList = [enemyCard1HPTxt,enemyCard2HPTxt,enemyCard3HPTxt];
            }else if(elem == upgradeButton3 || elem == upgradeButton3Txt){
                if(upgradeButton3.getColor() == healthUpgrade){
                    card3HP = card3HP + upgradeButton3Val;
                    card3HPTxt.setText(card3HP);
                    card3HPTxt.setPosition(card3.getX() + card3.getWidth() - textGap - card3HPTxt.getWidth(), card3.getY() + card3.getHeight() - textGap - 5);
                    
                }else{
                    card3Damage = card3Damage + upgradeButton3Val;
                    card3DamageTxt.setText(card3Damage);
                    card3DamageTxt.setPosition(card3.getX() + textGap, card3.getY() + card3.getHeight() - textGap - 5);
                }
                stopUpgrade();
                cardList = [card1,card2,card3];
                playerDamageList = [card1Damage,card2Damage,card3Damage];
                playerHPList = [card1HP,card2HP,card3HP];
                playerDamageTxtList = [card1DamageTxt,card2DamageTxt,card3DamageTxt];
                playerHPTxtList = [card1HPTxt,card2HPTxt,card3HPTxt];
                enemyCardList = [enemyCard1,enemyCard2,enemyCard3];
                enemyDamageList = [enemyCard1Damage,enemyCard2Damage,enemyCard3Damage];
                enemyHPList = [enemyCard1HP,enemyCard2HP,enemyCard3HP];
                enemyDamageTxtList = [enemyCard1DamageTxt,enemyCard2DamageTxt,enemyCard3DamageTxt];
                enemyHPTxtList = [enemyCard1HPTxt,enemyCard2HPTxt,enemyCard3HPTxt];
            }
        }
    }
    
    if(gameStatus >= 10){
        // println("uhilsgtihg");
        setTimer(transition,250);
        gameStatus = 0;
        gameStatusTxt.setText(gameStatus);
        gameStatusTxt.setPosition(endTurnButton.getX() + (endTurnButton.getWidth() / 2) -  (gameStatusTxt.getWidth() / 2),endTurnButton.getY() + (endTurnButton.getHeight() / 2) + (gameStatusTxt.getHeight() / 2) - 5);
        playerScore = playerScore + 1;
        playerScoreTxt.setText(playerScore);
        playerScoreTxt.setPosition(restartButton.getX() + (restartButton.getWidth() / 2) -  (playerScoreTxt.getWidth() / 2),endTurnButton.getY() + (endTurnButton.getHeight() / 2) + (gameStatusTxt.getHeight() / 2) - 10 - playerScoreTxt.getHeight());
        difficulty = Math.round(difficulty + (4 / 3));
        startInteraction();
    }else if(gameStatus <= -10){
        lose();
    }
    setTextSize();
}
function mouseMove(e){
    var elem = getElementAt(e.getX(), e.getY());
    if(cardSelect(1,elem) && card1.getY() != playerY){
        move(1,card1.getX(),startingPlayerY - 10);
    }else if(cardSelect(2,elem) && card2.getY() != playerY){
        move(2,card2.getX(),startingPlayerY - 10);
    }else if(cardSelect(3,elem) && card3.getY() != playerY){
        move(3,card3.getX(),startingPlayerY - 10);
    }else{
        if(card1.getY() != playerY){
            move(1,card1.getX(),startingPlayerY);
        }
        if(card2.getY() != playerY){
            move(2,card2.getX(),startingPlayerY);
        }
        if(card3.getY() != playerY){
            move(3,card3.getX(),startingPlayerY);
        }
    }
    setTextSize();
}
function keyDown(e){
    if(selectedCard == 1){
        if(e.key == "1" && !isPlaceOccupied(1)){
            move(1,place1X,playerY);
        }else if(e.key == "2" && !isPlaceOccupied(2)){
            move(1,place2X,playerY);
        }else if(e.key == "3" && !isPlaceOccupied(3)){
            move(1,place3X,playerY);
        }
    }else if(selectedCard == 2){
        if(e.key == "1" && !isPlaceOccupied(1)){
            move(2,place1X,playerY);
        }else if(e.key == "2" && !isPlaceOccupied(2)){
            move(2,place2X,playerY);
        }else if(e.key == "3" && !isPlaceOccupied(3)){
            move(2,place3X,playerY);
        }
    }else if(selectedCard == 3){
        if(e.key == "1" && !isPlaceOccupied(1)){
            move(3,place1X,playerY);
        }else if(e.key == "2" && !isPlaceOccupied(2)){
            move(3,place2X,playerY);
        }else if(e.key == "3" && !isPlaceOccupied(3)){
            move(3,place3X,playerY);
        }
    }
    if(e.key == "p"){
        // println();
        println(enemyHPList);
        println(enemyDamageList);
        println(playerHPList);
        println(playerDamageList);
        
        // println(enemyCard1.getX());
        // println(enemyCard1.getY());
        // println(enemyCard2.getX());
        // println(enemyCard2.getY());
        // println(enemyCard3.getX());
        // println(enemyCard3.getY());
        
        // println(enemyCard1.getY());
        // println(card1.getY());
        // println(getHeight());
    }
    if(e.key == "i"){
        println("Welcome to Budget Inscryption. To play you choose which card you want to upgrade and then the upgrade button.");
        println("The number represents what number you add and the color says which stat it upgrades.");
        println("Purple for the cards, enemy cards, and upgrade buttons is damage and green is health.");
        println("After each round you get to choose an upgrade.");
        println("To play you click the card you want to play then where you want to place it. You attack first with the purple number");
        println("If there is an enemy then it subtracts the damage from the enemy's health, if it is empty it adds the damage to the game score on the red button on the left");
        println("After you are ready to end your turn you press the button and you attack then the enemy moves and attacks.");
        println("If there is one of your cards infront of the enemy then it removes the enemy's damage from your card's health. If there is not one of your cards infront then it subtracts the damage from the game score");
        println("If the game score reaches 10, you gain a win, the enemies get stronger, and you get an upgrade then it continues");
        println("If the game score reaches -10, you lose a life, the enemies get weaker, and you still get an upgrade and it continues");
        println("The game end when you run out of lives which are shows below the restart button on the right");
        println("The text on top of the restart button is how many games you won and the restart button makes you lose a life, makes the enemies weaker, and gives you an upgrade ");
        println("Good Luck, if these instructions are too confusing see the game this is based on called Inscryption");
    };
}

function isPlaceOccupied(num){
    var nullVal = false;
    var notNullVal = true;
    if(num == 1){
        var elem = getElementAt(place1X,playerY);
        if(elem == background || elem == placeBackboard || elem == endTurnButton || elem == place1P){
            return nullVal;
        }else{
            return notNullVal;
        }
    }else if(num == 2){
        var elem = getElementAt(place2X,playerY);
        if(elem == background || elem == placeBackboard || elem == endTurnButton || elem == place2P){
            return nullVal;
        }else{
            return notNullVal;
        }
    }else if(num == 3){
        var elem = getElementAt(place3X,playerY);
        if(elem == background || elem == placeBackboard || elem == endTurnButton || elem == place3P){
            return nullVal;
        }else{
            return notNullVal;
        }
    }
}

function removeCard(type,num){
    var dist = -100000000;
    if(type == "e"){
        if(num == 1){
            enemyCard1.setPosition(dist,dist);
            enemyCard1DamageTxt.setPosition(dist,dist);
            enemyCard1HPTxt.setPosition(dist,dist);
        }else if(num == 2){
            enemyCard2.setPosition(dist,dist);
            enemyCard2DamageTxt.setPosition(dist,dist);
            enemyCard2HPTxt.setPosition(dist,dist);
        }else{
            enemyCard3.setPosition(dist,dist);
            enemyCard3DamageTxt.setPosition(dist,dist);
            enemyCard3HPTxt.setPosition(dist,dist);
        }
    }else{
        if(num == 1){
            card1.setPosition(dist,dist);
            card1DamageTxt.setPosition(dist,dist);
            card1HPTxt.setPosition(dist,dist);
        }else if(num == 2){
            card2.setPosition(dist,dist);
            card2DamageTxt.setPosition(dist,dist);
            card2HPTxt.setPosition(dist,dist);
        }else{
            card3.setPosition(dist,dist);
            card3DamageTxt.setPosition(dist,dist);
            card3HPTxt.setPosition(dist,dist);
        }
    }
}

function cardSelect(num,elem){
    if(num == 1){
        if(elem == card1 || elem == card1DamageTxt || elem == card1HPTxt){
            return true
        }
    }else if(num == 2){
        if(elem == card2 || elem == card2DamageTxt || elem == card2HPTxt){
            return true
        }
    }else if(num == 3){
        if(elem == card3 || elem == card3DamageTxt || elem == card3HPTxt){
            return true
        }
    }
}

function move(num,xpos,ypos){
    if(num == 1){
        card1.setPosition(xpos,ypos);
        card1DamageTxt.setPosition(card1.getX() + textGap, card1.getY() + card1.getHeight() - textGap - 5);
        card1HPTxt.setPosition(card1.getX() + card1.getWidth() - textGap - card1HPTxt.getWidth(), card1.getY() + card1.getHeight() - textGap - 5);
    }else if(num == 2){
        card2.setPosition(xpos,ypos);
        card2DamageTxt.setPosition(card2.getX() + textGap, card2.getY() + card2.getHeight() - textGap - 5);
        card2HPTxt.setPosition(card2.getX() + card2.getWidth() - textGap - card2HPTxt.getWidth(), card2.getY() + card2.getHeight() - textGap - 5);
    }else if(num == 3){
        card3.setPosition(xpos,ypos);
        card3DamageTxt.setPosition(card3.getX() + textGap, card3.getY() + card1.getHeight() - textGap - 5);
        card3HPTxt.setPosition(card3.getX() + card3.getWidth() - textGap - card3HPTxt.getWidth(), card3.getY() + card3.getHeight() - textGap - 5);
    }
}
function moveE(num,xpos,ypos){
    if(num == 1){
        enemyCard1.setPosition(xpos,ypos);
        enemyCard1DamageTxt.setPosition(enemyCard1.getX() + textGap, enemyCard1.getY() + enemyCard1.getHeight() - textGap - 5);
        enemyCard1HPTxt.setPosition(enemyCard1.getX() + enemyCard1.getWidth() - textGap - enemyCard1HPTxt.getWidth(), enemyCard1.getY() + enemyCard1.getHeight() - textGap - 5);
    }else if(num == 2){
        enemyCard2.setPosition(xpos,ypos);
        enemyCard2DamageTxt.setPosition(enemyCard2.getX() + textGap, enemyCard2.getY() + enemyCard2.getHeight() - textGap - 5);
        enemyCard2HPTxt.setPosition(enemyCard2.getX() + enemyCard2.getWidth() - textGap - enemyCard2HPTxt.getWidth(), enemyCard2.getY() + enemyCard2.getHeight() - textGap - 5);
    }else if(num == 3){
        enemyCard3.setPosition(xpos,ypos);
        enemyCard3DamageTxt.setPosition(enemyCard3.getX() + textGap, enemyCard3.getY() + enemyCard3.getHeight() - textGap - 5);
        enemyCard3HPTxt.setPosition(enemyCard3.getX() + enemyCard3.getWidth() - textGap - enemyCard3HPTxt.getWidth(), enemyCard3.getY() + enemyCard3.getHeight() - textGap - 5);
    }
}

function endTurn(){
    var elemPlace1 = getElementAt(place1X, playerY);
    var elemPlace2 = getElementAt(place2X, playerY);
    var elemPlace3 = getElementAt(place3X, playerY);
    var elemEnemyPlace1 = getElementAt(place1X, enemyY);
    var elemEnemyPlace2 = getElementAt(place2X, enemyY);
    var elemEnemyPlace3 = getElementAt(place3X, enemyY);
    var elemList = [elemPlace1,elemPlace2,elemPlace3];
    var elemenemyCardList = [elemEnemyPlace1,elemEnemyPlace2,elemEnemyPlace3];
    
    for(var i = 0;i < 3; i++){
        if(elemenemyCardList[i] == enemyPlaceListP[i] || elemenemyCardList[i] == placeBackboard){
            for(var j = 0;j < 3; j++){
                if(elemList[i] == cardList[j]){
                    gameStatus = gameStatus + playerDamageList[j];
                }
            }
        }else{
            for(var k = 0;k < 3; k++){
                if(elemenemyCardList[i] == enemyCardList[k]){
                    for(var q = 0; q < 3; q++){
                        if(elemList[i] == cardList[q]){
                            enemyHPList[k] = enemyHPList[k] - playerDamageList[q];
                        }
                    }
                }
                if(enemyHPList[k] < 1){
                    removeCard("e",k + 1);
                }else{
                    enemyHPTxtList[k].setText(enemyHPList[k]);
                }
            }
        }
    }
    
    var enemyPlace1 = getElementAt(place1X, edgeGapY);
    var enemyPlace2 = getElementAt(place2X, edgeGapY);
    var enemyPlace3 = getElementAt(place3X, edgeGapY);
    var enemyPlaceList = [enemyPlace1, enemyPlace2, enemyPlace3];
    
    for(var i = 0;i < 3; i++){
        if(enemyPlaceList[i] != enemyPlaceListP[i]){
            moveE(i + 1,enemyCardList[i].getX(),enemyY);
        }
    }
    
    var elemPlace1 = getElementAt(place1X, playerY);
    var elemPlace2 = getElementAt(place2X, playerY);
    var elemPlace3 = getElementAt(place3X, playerY);
    var elemEnemyPlace1 = getElementAt(place1X, enemyY);
    var elemEnemyPlace2 = getElementAt(place2X, enemyY);
    var elemEnemyPlace3 = getElementAt(place3X, enemyY);
    var elemList = [elemPlace1,elemPlace2,elemPlace3];
    var elemenemyCardList = [elemEnemyPlace1,elemEnemyPlace2,elemEnemyPlace3];
    
    for(var i = 0;i < 3; i++){
        if(elemList[i] == placeListP[i] || elemList[i] == placeBackboard){
            for(var j = 0;j < 3; j++){
                if(elemenemyCardList[i] == enemyCardList[j]){
                    gameStatus = gameStatus - enemyDamageList[j];
                }
            }
        }else{
            for(var k = 0;k < 3; k++){
                if(elemList[i] == cardList[k]){
                    for(var q = 0; q < 3; q++){
                        if(elemenemyCardList[i] == enemyCardList[q]){
                            playerHPList[k] = playerHPList[k] - enemyDamageList[q];
                        }
                    }
                }
                if(playerHPList[k] < 1){
                    removeCard("p",k + 1);
                }else{
                    playerHPTxtList[k].setText(playerHPList[k]);
                }
            }
        }
    }
    
    // moveE(1,enemyCard1.getX(),enemyY);
    // moveE(2,enemyCard2.getX(),enemyY);
    // moveE(3,enemyCard3.getX(),enemyY);
    
    gameStatusTxt.setText(gameStatus);
    gameStatusTxt.setPosition(endTurnButton.getX() + (endTurnButton.getWidth() / 2) -  (gameStatusTxt.getWidth() / 2),endTurnButton.getY() + (endTurnButton.getHeight() / 2) + (gameStatusTxt.getHeight() / 2) - 5);
    
    
}

function startInteraction(){
    upgrade();
    card1.setPosition(edgeGapX,getHeight() - card1.getHeight() - edgeGapY);
    card2.setPosition(card1.getX() + cardWidth + cardGap,card1.getY());
    card3.setPosition(card2.getX() + cardWidth + cardGap,card1.getY());
    card1DamageTxt.setPosition(card1.getX() + textGap, card1.getY() + card1.getHeight() - textGap - 5);
    card1HPTxt.setPosition(card1.getX() + card1.getWidth() - textGap - card1HPTxt.getWidth(), card1.getY() + card1.getHeight() - textGap - 5);
    card2DamageTxt.setPosition(card2.getX() + textGap, card1.getY() + card1.getHeight() - textGap - 5);
    card2HPTxt.setPosition(card2.getX() + card2.getWidth() - textGap - card2HPTxt.getWidth(), card2.getY() + card2.getHeight() - textGap - 5);
    card3DamageTxt.setPosition(card3.getX() + textGap, card3.getY() + card3.getHeight() - textGap - 5);
    card3HPTxt.setPosition(card3.getX() + card3.getWidth() - textGap - card3HPTxt.getWidth(), card3.getY() + card3.getHeight() - textGap - 5);
    
    if(Randomizer.nextInt(1, 2) == 1 || difficulty >= 15){
        moveE(1,edgeGapX,enemyY);
    }else{
        moveE(1,edgeGapX,edgeGapY);
    }

    if(Randomizer.nextInt(1, 2) == 1 || difficulty >= 15){
        moveE(2,enemyCard1.getX() + cardWidth + cardGap,enemyY);
    }else{
        moveE(2,enemyCard1.getX() + cardWidth + cardGap,edgeGapY);
    }

    if(Randomizer.nextInt(1, 2) == 1 || difficulty >= 15){
        moveE(3,enemyCard2.getX() + cardWidth + cardGap,enemyY);
    }else{
        moveE(3,enemyCard2.getX() + cardWidth + cardGap,edgeGapY);
    }
    enemyCard1Damage = Randomizer.nextInt(enemyLowRange, enemyHighRange + difficulty);
    enemyCard1HP = Randomizer.nextInt(enemyLowRange, enemyHighRange + difficulty);
    enemyCard2Damage = Randomizer.nextInt(enemyLowRange, enemyHighRange + difficulty);
    enemyCard2HP = Randomizer.nextInt(enemyLowRange, enemyHighRange + difficulty);
    enemyCard3Damage = Randomizer.nextInt(enemyLowRange, enemyHighRange + difficulty);
    enemyCard3HP = Randomizer.nextInt(enemyLowRange, enemyHighRange + difficulty);
    
    enemyCard1DamageTxt.setText(enemyCard1Damage);
    enemyCard2DamageTxt.setText(enemyCard2Damage);
    enemyCard3DamageTxt.setText(enemyCard3Damage);
    enemyCard1HPTxt.setText(enemyCard1HP);
    enemyCard2HPTxt.setText(enemyCard2HP);
    enemyCard3HPTxt.setText(enemyCard3HP);
    
    cardList = [card1,card2,card3];
    playerDamageList = [card1Damage,card2Damage,card3Damage];
    playerHPList = [card1HP,card2HP,card3HP];
    playerDamageTxtList = [card1DamageTxt,card2DamageTxt,card3DamageTxt];
    playerHPTxtList = [card1HPTxt,card2HPTxt,card3HPTxt];
    enemyCardList = [enemyCard1,enemyCard2,enemyCard3];
    enemyDamageList = [enemyCard1Damage,enemyCard2Damage,enemyCard3Damage];
    enemyHPList = [enemyCard1HP,enemyCard2HP,enemyCard3HP];
    enemyDamageTxtList = [enemyCard1DamageTxt,enemyCard2DamageTxt,enemyCard3DamageTxt];
    enemyHPTxtList = [enemyCard1HPTxt,enemyCard2HPTxt,enemyCard3HPTxt];
    
    card1DamageTxt.setText(card1Damage);
    card2DamageTxt.setText(card2Damage);
    card3DamageTxt.setText(card3Damage);
    card1HPTxt.setText(card1HP);
    card2HPTxt.setText(card2HP);
    card3HPTxt.setText(card3HP);
}

function transition(){
    if(transitionCounter == 0){
        transitionCounter = 1;
        background.setColor("#555555");
    }else{
        transitionCounter = 0;
        background.setColor("#0BCDFF");
        stopTimer(transition);
    }
}

function lose(){
    setTimer(transition,250);
    playerLives = playerLives - 1;
    livesTxt.setText(playerLives);
    livesTxt.setPosition(restartButton.getX() + (restartButton.getWidth() / 2) -  (livesTxt.getWidth() / 2),endTurnButton.getY() + (endTurnButton.getHeight() / 2) + (livesTxt.getHeight() / 2) - 0 + livesTxt.getHeight());
    gameStatus = 0;
    gameStatusTxt.setText(gameStatus);
    gameStatusTxt.setPosition(endTurnButton.getX() + (endTurnButton.getWidth() / 2) -  (gameStatusTxt.getWidth() / 2),endTurnButton.getY() + (endTurnButton.getHeight() / 2) + (gameStatusTxt.getHeight() / 2) - 5);
    if(playerLives == 2){
        println("Your lost a life, you have " + playerLives + " lives left");
    }else if(playerLives == 1){
        println("Your lost a life, you have " + playerLives + " life left");
    }else{
        print("Lives error");
    }
    startInteraction();
    if(playerLives <= 0){
        println("You lost all of your lives");
        removeAll();
    } 
    difficulty = difficulty - 2;
}

function upgrade(){
    mode = "upgrade";
    var color1 = Randomizer.nextInt(1,2);
    var color2 = Randomizer.nextInt(1,2);
    var color3 = Randomizer.nextInt(1,2);
    
    if(color1 == 1){
        upgradeButton1.setColor(healthUpgrade);
    }else{
        upgradeButton1.setColor(damageUpgrade);
    }
    if(color2 == 1){
        upgradeButton2.setColor(healthUpgrade);
    }else{
        upgradeButton2.setColor(damageUpgrade);
    }
    if(color3 == 1){
        upgradeButton3.setColor(healthUpgrade);
    }else{
        upgradeButton3.setColor(damageUpgrade);
    }
    lowUVal = 1;
    highUVal = 1 + (Math.round(difficulty / 5));
    
    upgradeButton1Val = Randomizer.nextInt(lowUVal,highUVal);
    upgradeButton2Val = Randomizer.nextInt(lowUVal,highUVal);
    upgradeButton3Val = Randomizer.nextInt(lowUVal,highUVal);
    
    upgradeButton1Txt.setText(upgradeButton1Val);
    upgradeButton2Txt.setText(upgradeButton2Val);
    upgradeButton3Txt.setText(upgradeButton3Val);
    
    upgradeButton1Txt.setPosition(upgradeButton1.getX() + (upgradeButton1.getWidth() / 2) -  (upgradeButton1Txt.getWidth() / 2),upgradeButton1.getY() + (upgradeButton1.getHeight() / 2) + (upgradeButton1Txt.getHeight() / 2) - 5);
    upgradeButton2Txt.setPosition(upgradeButton2.getX() + (upgradeButton2.getWidth() / 2) -  (upgradeButton2Txt.getWidth() / 2),upgradeButton2.getY() + (upgradeButton2.getHeight() / 2) + (upgradeButton2Txt.getHeight() / 2) - 5);
    upgradeButton3Txt.setPosition(upgradeButton3.getX() + (upgradeButton3.getWidth() / 2) -  (upgradeButton3Txt.getWidth() / 2),upgradeButton3.getY() + (upgradeButton3.getHeight() / 2) + (upgradeButton3Txt.getHeight() / 2) - 5);
    
    card1.layer = 101;
    card1HPTxt.layer = 101;
    card1DamageTxt.layer = 101;
    card2.layer = 101;
    card2HPTxt.layer = 101;
    card2DamageTxt.layer = 101;
    card3.layer = 101;
    card3HPTxt.layer = 101;
    card3DamageTxt.layer = 101;
    
    add(backgroundU);
    add(upgradeButton1);
    add(upgradeButton2);
    add(upgradeButton3);
    add(upgradeButton1Txt);
    add(upgradeButton2Txt);
    add(upgradeButton3Txt);
}

function stopUpgrade(){
    setTextSize();
    mode = "play";
    
    card1.layer = 101;
    card1HPTxt.layer = 101;
    card1DamageTxt.layer = 101;
    card2.layer = 101;
    card2HPTxt.layer = 101;
    card2DamageTxt.layer = 101;
    card3.layer = 101;
    card3HPTxt.layer = 101;
    card3DamageTxt.layer = 101;
    
    remove(backgroundU);
    remove(upgradeButton1);
    remove(upgradeButton2);
    remove(upgradeButton3);
    remove(upgradeButton1Txt);
    remove(upgradeButton2Txt);
    remove(upgradeButton3Txt);
}

function setTextSize(){
    for(var i = 0; i < 3;i++){
        if(playerHPList[i] >= 10){
            playerHPTxtList[i].setFont("15pt Arial");
            playerHPTxtList[i].setPosition(cardList[i].getX() + cardList[i].getWidth() - textGap - playerHPTxtList[i].getWidth() - 5, cardList[i].getY() + cardList[i].getHeight() - textGap - 5);
        }else{
            playerHPTxtList[i].setFont("30pt Arial");
            playerHPTxtList[i].setPosition(cardList[i].getX() + cardList[i].getWidth() - textGap - playerHPTxtList[i].getWidth(), cardList[i].getY() + cardList[i].getHeight() - textGap - 5);
            playerHPTxtList[i].setPosition(cardList[i].getX() + cardList[i].getWidth() - textGap - playerHPTxtList[i].getWidth(), cardList[i].getY() + cardList[i].getHeight() - textGap - 5);
        }
    }
    for(var i = 0; i < 3;i++){
        if(playerDamageList[i] >= 10){
            playerDamageTxtList[i].setFont("15pt Arial");
            playerDamageTxtList[i].setPosition(cardList[i].getX() + textGap, cardList[i].getY() + cardList[i].getHeight() - textGap - 5);
        }else{
            playerDamageTxtList[i].setFont("30pt Arial");
            playerDamageTxtList[i].setPosition(cardList[i].getX() + textGap, cardList[i].getY() + cardList[i].getHeight() - textGap - 5);
        }
    }
    for(var i = 0; i < 3;i++){
        if(enemyHPList[i] >= 10){
            enemyHPTxtList[i].setFont("15pt Arial");
            enemyHPTxtList[i].setPosition(enemyCardList[i].getX() + enemyCardList[i].getWidth() - enemyHPTxtList[i].getWidth() - 5, enemyCardList[i].getY() + enemyCardList[i].getHeight() - textGap - 5);
        }else{
            enemyHPTxtList[i].setFont("30pt Arial");
            enemyHPTxtList[i].setPosition(enemyCardList[i].getX() + enemyCardList[i].getWidth() - textGap - enemyHPTxtList[i].getWidth(), enemyCardList[i].getY() + enemyCardList[i].getHeight() - textGap - 5);
        }
    }
    for(var i = 0; i < 3;i++){
        if(enemyDamageList[i] >= 10){
            enemyDamageTxtList[i].setFont("15pt Arial");
            enemyDamageTxtList[i].setPosition(enemyCardList[i].getX() + textGap, enemyCardList[i].getY() + enemyCardList[i].getHeight() - textGap - 5);
        }else{
            enemyDamageTxtList[i].setFont("30pt Arial");
            enemyDamageTxtList[i].setPosition(enemyCardList[i].getX() + textGap, enemyCardList[i].getY() + enemyCardList[i].getHeight() - textGap - 5);
        }
    }
}
        }
        </script>
        <!-- <script src="budget-inscryption.js"></script> -->
    </body>
</html>